<div class="robot-card">
  <div class="robot-card-preview">
    <div class="util-buttons">
      <div
        class="util-button"
        tabindex="0"
        [attr.title]="
          data.flying
            ? 'Drone is flying. Click to make it land.'
            : 'Drone is not flying. Click to make it fly.'
        "
        (click)="onPowerClick()"
        *ngIf="!data.real"
      >
        <icon-component
          [iconName]="data.flying ? 'flight_takeoff' : 'flight_land'"
          [class.power-on]="data.flying"
        ></icon-component>
      </div>
      <div
        class="util-button"
        tabindex="0"
        [attr.title]="
          data.ledOn
            ? 'Light are on. Click to turn off.'
            : 'Light are off. Click to make turn on.'
        "
        (click)="onLedClick()"
        *ngIf="data.real"
      >
        <icon-component
          iconName="lightbulb"
          [class.power-on]="data.ledOn"
        ></icon-component>
      </div>
    </div>

    <img src="/assets/crazyfly.png" alt="" srcset="" />
  </div>
  <div class="robot-card-description">
    <div class="title">
      <h3 [attr.title]="data.name">{{ data.name }}</h3>
      <h3>Bitcraze Crazyflie 2.0</h3>
    </div>
    <div class="robot-card-description-row">
      <div class="icon-and-text">
        <icon-component iconName="speed"></icon-component>
        <span>Speed</span>
      </div>
      <div class="value text-success">{{ data.speed.toFixed(2) }} km/h</div>
    </div>
    <div class="robot-card-description-row">
      <div class="icon-and-text">
        <icon-component iconName="battery_full"></icon-component>
        <span>Battery</span>
      </div>
      <div class="value text-success" *ngIf="data.battery && data.battery > 30">
        {{ (data.battery).toFixed(1) }} %
      </div>
      <div class="value text-error" *ngIf="(data.battery && data.battery <= 30) || data.battery === 0">
        {{ (data.battery).toFixed(1) }} %
      </div>
      <div class="value text-error" *ngIf="!data.battery && data.battery !== 0">N/A</div>
    </div>
    <div class="robot-card-description-row">
      <div class="icon-and-value">
        <icon-component iconName="near_me"></icon-component>
        <div class="value text-success position" *ngIf="data.position">
          <span
            >x:
            <span class="text-success">{{
              data.position[0].toFixed(2)
            }}</span></span
          >
          <span
            >y:
            <span class="text-success">{{
              data.position[1].toFixed(2)
            }}</span></span
          >
          <span
            >z:
            <span class="text-success">{{
              data.position[1].toFixed(2)
            }}</span></span
          >
        </div>
        <div class="value text-error position" *ngIf="!data.position">
          <span>x: <span class="text-error">N/A</span></span>
          <span>y: <span class="text-error">N/A</span></span>
          <span>z: <span class="text-error">N/A</span></span>
        </div>
      </div>
    </div>
    <div class="robot-card-description-row">
      <div class="icon-and-text">
        <icon-component iconName="update"></icon-component>
        <span class="text-info">Updated {{ humanizedDate }}</span>
      </div>
    </div>
  </div>
</div>
